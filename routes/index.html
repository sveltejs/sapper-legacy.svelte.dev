<svelte:head>
	<title>Sapper • Rock solid web apps, powered by Svelte</title>
</svelte:head>

<div class='hero'>
	<div class='left'>
		<h1>Sapper</h1>

	</div>

	<div class='right'>
		<h2>Rock solid web apps, powered by Svelte</h2>
		<ul>
			<li><strong>Beautiful development experience, inspired by Next.js.</strong> Declarative routing, hot-module replacement, scoped styles</li>
			<li><strong>Ridiculous performance.</strong> Svelte compiles your components down to tiny, efficient JavaScript modules</li>
			<li><strong>Modern best practices baked in.</strong> Code-splitting, server-side rendering, offline support</li>
		</ul>

		<a rel='prefetch' class='learn' href='guide'>Learn Sapper</a>
	</div>
</div>

<style>
	.hero {
		position: relative;
		padding: 2em 1em;
		/*background-color: #333;
		color: #f4f4f4;*/
		background-color: white;
		color: #333;
		clear: fix;
		min-height: calc(100vh - 7em);
		box-sizing: border-box;
	}

	ul {
		max-width: 32em;
		padding: 0;
		margin: 0 0 3em 0;
	}

	li {
		position: relative;
		list-style: none;
		margin: 0 0 1em 0;
		font-family: Rajdhani, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
		color: #666;
	}

	li::before {
		position: absolute;
		content: '◆';
		top: 0em;
		left: -1.4em;
		font-size: 0.8em;
		/*color: rgba(255,255,255,0.4);*/
		color: #ddd;
	}

	strong {
		font-family: Rajdhani, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
		margin: 0 auto;
		color: #333;
	}

	.left {
		padding: 0 0 0 1em;
	}

	h1 {
		display: block;
		font-family: Rajdhani, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
		color: rgb(16,94,16);
		font-size: 24vw;
		font-weight: 300;
		line-height: 1;
		margin: 0;
		text-transform: uppercase;
		padding: 0.5em 0 0 0;
	}

	.right {
		padding: 0 0 0 1em;
		margin: 0 0 2em 0;
	}

	h2 {
		font-size: 7.2vw;
		font-family: Rajdhani, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
		font-weight: 300;
		display: block;
		margin: 0 0 4rem 0;
		max-width: 10em;
	}

	.learn {
		background-color: rgb(16,94,16);
		color: white;
		padding: 0.5em 2em;
		border-radius: 0.2em;
		line-height: 1;
		font-family: Rajdhani, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
		font-size: 1.2em;
		font-weight: 800;
		text-transform: uppercase;
		width: calc(100% - 1em);
		max-width: 16em;
		display: block;
		text-align: center;
	}

	.learn:hover {
		background-color: rgba(16,94,16,0.9);
	}

	@media (min-width: 480px) {
		.left, .right {
			max-width: 32em;
			margin: 0 auto;
		}

		h1 {
			font-size: 8em;
		}

		h2 {
			font-size: 2em;
		}

		li {
			font-size: 1.2em;
		}
	}

	@media (min-width: 1040px) {
		.hero {
			padding: 6em 1em 2em 1em;
			max-width: 64em;
			margin: 0 auto;
		}

		.left {
			position: relative;
			float: left;
			width: 40%;
			box-sizing: border-box;
		}

		.right {
			position: relative;
			float: left;
			width: 60%;
			box-sizing: border-box;
		}

		h1 {
			position: relative;
			right: 3rem;
			top: 1.4rem;
			font-size: 7.2em;
			text-align: right;
		}

		h2 {
			font-size: 2.6em;
			line-height: 1.2;
			margin: 0 0 2rem 0;
		}
	}

</style>

<script>
	export default {
		preload() {
			// this is an ugly hack, to ensure that this file
			// is generated by the crawler. TODO fix
			if (!process.browser) {
				this.fetch('guide-contents.json');
			}
		},

		oncreate() {
			if ('caches' in window) {
				// cache the guide, so we can navigate instantly
				// and use it offline
				caches.keys()
					.then(keys => {
						// find the offline cache
						const key = keys.filter(k => k.startsWith('offline'));
						return caches.open(key);
					})
					.then(cache => {
						// see if we already have it — if not, fetch
						cache.match('guide.json').then(match => {
							if (!match) cache.add('guide.json');
						});
					});
			}
		}
	};
</script>